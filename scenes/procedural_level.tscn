[gd_scene load_steps=18 format=3 uid="uid://d27o2m2nfc86"]

[ext_resource type="Script" uid="uid://bhtonanho1prp" path="res://scripts/base_level.gd" id="1_heori"]
[ext_resource type="Script" uid="uid://crpjlwu456hw" path="res://scripts/level_layout_generator.gd" id="2_ca1qn"]
[ext_resource type="PackedScene" uid="uid://dvl2xwykeekj3" path="res://scenes/PlayerScene.tscn" id="4_w87me"]
[ext_resource type="PackedScene" uid="uid://b27pe7r8dx4qw" path="res://scenes/TileScenes/LevelTile_blank.tscn" id="6_yn40h"]
[ext_resource type="PackedScene" uid="uid://dttjj5us257jr" path="res://scenes/TileScenes/LevelTile_scattered__electronic2_aisles_no_npc.tscn" id="7_7db4a"]
[ext_resource type="PackedScene" uid="uid://byyclc0mgul4x" path="res://scenes/TileScenes/LevelTile_scattered__electronic2_aisles_2_npc.tscn" id="7_dd152"]
[ext_resource type="PackedScene" uid="uid://dvellss50wxf0" path="res://scenes/TileScenes/LevelTile_scattered__electronic1_aisles_no_npc.tscn" id="7_j4lbu"]
[ext_resource type="PackedScene" uid="uid://2wutesr0w6na" path="res://scenes/TileScenes/LevelTile_security.tscn" id="8_dd152"]
[ext_resource type="PackedScene" uid="uid://b12tyhfcfrvq1" path="res://scenes/wallet.tscn" id="9_dd152"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_w87me"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_abuk1"]
sky_material = SubResource("ProceduralSkyMaterial_w87me")

[sub_resource type="Environment" id="Environment_yn40h"]
background_mode = 2
sky = SubResource("Sky_abuk1")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_u8fp7"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kpdrb"]
albedo_color = Color(0.36078432, 0.3647059, 0.1764706, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_w87me"]
material = SubResource("StandardMaterial3D_kpdrb")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_abuk1"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_yn40h"]

[node name="ProceduralLevel" type="Node3D"]
script = ExtResource("1_heori")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_yn40h")

[node name="PlayerSceneParent" parent="." instance=ExtResource("4_w87me")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.4768324, 0, 3.3943176)

[node name="LevelLayoutGenerator" type="Node3D" parent="."]
script = ExtResource("2_ca1qn")
possibleTilePackedScenes = Array[PackedScene]([ExtResource("6_yn40h"), ExtResource("7_j4lbu"), ExtResource("7_7db4a"), ExtResource("7_dd152"), ExtResource("8_dd152")])

[node name="Marker3D" type="Marker3D" parent="LevelLayoutGenerator"]

[node name="Marker3D3" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)

[node name="Marker3D2" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10)

[node name="Marker3D4" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, 0)

[node name="Marker3D5" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, -10)

[node name="Marker3D6" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, 10)

[node name="Marker3D7" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 0, 0)

[node name="Marker3D8" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 0, -10)

[node name="Marker3D9" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 0, 10)

[node name="Marker3D10" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 0)

[node name="Marker3D11" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, -10)

[node name="Marker3D12" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 10)

[node name="Marker3D13" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, 0, 0)

[node name="Marker3D14" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, 0, -10)

[node name="Marker3D15" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, 0, 10)

[node name="Marker3D16" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, 0)

[node name="Marker3D17" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, -10)

[node name="Marker3D18" type="Marker3D" parent="LevelLayoutGenerator"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, 10)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("WorldBoundaryShape3D_u8fp7")

[node name="floorPlaneMesh" type="MeshInstance3D" parent="StaticBody3D"]
transform = Transform3D(29.164202, 0, 0, 0, 1, 0, 0, 0, 25.822937, 0, 0, 0)
visible = false
mesh = SubResource("PlaneMesh_w87me")
skeleton = NodePath("../..")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1.9860013, 0, 0, 0, 44.9085, 20.363094, 0.9071076, 0.38669014)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1.9860013, 0, 0, 0, 44.9085, -48.31232, 0.9071076, 0.38669014)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-4.371139e-08, 0, -44.9085, 0, 1.9860013, 0, 1, 0, -1.963013e-06, 2.0139933, 0.9071076, 23.38669)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-4.371139e-08, 0, -44.9085, 0, 1.9860013, 0, 1, 0, -1.963013e-06, 2.0139952, 0.9071076, -22.61331)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="CollisionShape3D7" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-4.371139e-08, 0, -44.9085, 0, 1.9860013, 0, 1, 0, -1.963013e-06, -42.894505, 0.9071076, -22.613312)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="CollisionShape3D8" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-4.371139e-08, 0, -44.9085, 0, 1.9860013, 0, 1, 0, -1.963013e-06, -42.89451, 0.9071076, 23.386688)
shape = SubResource("ConcavePolygonShape3D_abuk1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0439867, 0, 0, 0)
mesh = SubResource("BoxMesh_yn40h")

[node name="Wallet" parent="." instance=ExtResource("9_dd152")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 1, 11)

[node name="Wallet2" parent="." instance=ExtResource("9_dd152")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 1, 9)

[node name="Wallet3" parent="." instance=ExtResource("9_dd152")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 1, 6)

[node name="Wallet4" parent="." instance=ExtResource("9_dd152")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 1, 6)
